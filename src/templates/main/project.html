{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroChip Designer — Мои проекты</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

<div class="screen active" id="projects">
    <div class="modal large">
        <div class="projects-header">
            <div class="header-left">
                <i class="fas fa-microchip"></i>
                <h2>Мои проекты</h2>
            </div>
            <div id="userInfo" class="user-info-display">
                {{user.username}}
            </div>
        </div>
        
        <div class="projects-grid" id="projectsGrid">
            {% if not schemas %}
                        <div class="empty-projects">
                            <div class="empty-container">
                                <i class="fas fa-folder-open"></i>
                                <h3>Нет проектов</h3>
                                <p>У вас пока нет созданных проектов микрочипов.<br>Создайте свой первый проект!</p>
                                <button id="createFirstProjectBtn" class="big-create-btn" onclick="window.location.href = `/work_table`">
                                    <i class="fas fa-plus"></i>
                                    <span>Создать первый проект</span>
                                </button>
                            </div>
                        </div>

            {% else %}
                {% for schema in schemas %}
                    
                    <div class="project" data-id="{{schema.id}}">
                        <i class="fas fa-microchip project-icon"></i>
                        <h3>{{schema.title}}</h3>
                        <div class="project-controls">
                            <button class="project-btn rename-btn" data-id="{{schema.id}}" title="Переименовать">
                                <i class="fas fa-edit"></i>
                            </button>
                            <button class="project-btn delete-btn" data-id="{{schema.id}}" title="Удалить">
                                <i class="fas fa-trash-alt"></i>
                            </button>
                        </div>
                    </div>
                    
                {% endfor %}
                        <div class="project add" onclick="window.location.href = `/work_table`">
                            <i class="fas fa-plus"></i>
                            <p>Новый проект</p>
                        </div>
            {% endif %}

        </div>
        
        <div class="logout-container">
            <button id="logoutBtn" class="logout-btn" >
                <i class="fas fa-sign-out-alt"></i> Выйти
            </button>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
<script src="{% static 'projects.js' %}"></script>
</body>
</html>